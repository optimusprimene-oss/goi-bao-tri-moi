/* --- GRID LAYOUT --- */
.grid {
  display: grid;
  gap: 16px;
  width: 100%;
  /* Auto-fill nhưng giới hạn min-width để đảm bảo tối đa 4 thẻ trên màn hình lớn */
  /* 100% / 4 ~ 25% - gap. Min 280px đảm bảo không bị bóp méo trên mobile */
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}

/* --- CARD STYLES --- */
.card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: var(--shadow);
  display: flex; flex-direction: column;
  border-left: 4px solid transparent;
  transition: transform 0.2s, box-shadow 0.2s;
  position: relative; overflow: hidden;
}

.card:hover {
  transform: translateY(-4px);
  box-shadow: 0 15px 30px rgba(0,0,0,0.4);
  border-color: rgba(255,255,255,0.1);
}

.card.hidden { display: none !important; }

/* Màu sắc trạng thái */
.card.normal { border-left-color: var(--color-normal); }
.card.processing { border-left-color: var(--color-processing); }
.card.fault { border-left-color: var(--color-fault); background: rgba(239, 68, 68, 0.05); }

/* Header Card */
.card-header {
  display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;
}
.line-name { font-weight: 700; font-size: 1.2rem; color: white; }

.status-badge {
  padding: 5px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase;
}
.status-badge.normal { color: var(--color-normal); background: rgba(34,197,94,0.15); border: 1px solid rgba(34,197,94,0.2); }
.status-badge.processing { color: var(--color-processing); background: rgba(245,158,11,0.15); border: 1px solid rgba(245,158,11,0.2); }
.status-badge.fault { color: var(--color-fault); background: rgba(239,68,68,0.15); border: 1px solid rgba(239,68,68,0.2); }

/* Times Section */
.card-times-section {
  margin-top: auto; 
  background: rgba(0,0,0,0.2);
  padding: 10px; border-radius: 8px;
  display: grid; gap: 6px; font-size: 0.9rem;
}
.time-row { display: flex; justify-content: space-between; }
.time-label { color: var(--color-muted); font-size: 0.85rem; }
.time-value { font-family: monospace; font-weight: 600; color: var(--color-text); }